# ğŸ“ Masa Flash - è‹±å˜èªå­¦ç¿’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

[![Next.js](https://img.shields.io/badge/Next.js-15-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19-blue?logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Supabase](https://img.shields.io/badge/Supabase-Latest-green?logo=supabase)](https://supabase.com/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-cyan?logo=tailwindcss)](https://tailwindcss.com/)

> **é«˜å“è³ªãªå¼•ãç¶™ãè³‡æ–™** - Next.js App Routerã€Supabaseã€ISRã‚’æ´»ç”¨ã—ãŸãƒ¢ãƒ€ãƒ³ãªè‹±èªå­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

## ğŸ“‹ ç›®æ¬¡

- [ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
- [ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ï¸-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#-ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
- [ğŸ”§ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#-é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
- [ğŸ¨ æ©Ÿèƒ½è©³ç´°](#-æ©Ÿèƒ½è©³ç´°)
- [âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
- [ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
- [ğŸ“ é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#-é–‹ç™ºãƒ«ãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)
- [ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#-ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
- [ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ](#-ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ)
- [ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ğŸ“ˆ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°](#-ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°)
- [ğŸ”„ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹](#-ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹)
- [ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³](#ï¸-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³)

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### æ¦‚è¦
**Masa Flash**ã¯ã€Next.js 15ã¨Supabaseã‚’åŸºç›¤ã¨ã—ãŸé«˜æ€§èƒ½ãªè‹±å˜èªå­¦ç¿’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ISRï¼ˆIncremental Static Regenerationï¼‰ã€çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã€æœ€é©åŒ–ã•ã‚ŒãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã‚ˆã‚Šã€**60-75%ã®èª­ã¿è¾¼ã¿æ™‚é–“çŸ­ç¸®**ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½
- ğŸ” **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: Supabase Authçµ±åˆ
- ğŸ“š **ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªå˜èªå­¦ç¿’
- ğŸ§  **4æŠã‚¯ã‚¤ã‚º**: ç†è§£åº¦ç¢ºèªã‚·ã‚¹ãƒ†ãƒ 
- ğŸ“Š **å­¦ç¿’é€²æ—ç®¡ç†**: ç¿’ç†Ÿåº¦è¿½è·¡ãƒ»çµ±è¨ˆè¡¨ç¤º
- ğŸ”„ **å¾©ç¿’ã‚·ã‚¹ãƒ†ãƒ **: é–“éš”åå¾©å­¦ç¿’å¯¾å¿œ
- â­ **ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½**: å˜èªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯
- ğŸµ **éŸ³å£°æ©Ÿèƒ½**: Web Speech APIçµ±åˆ
- ğŸŒ™ **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰**: next-themeså¯¾å¿œ

### ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤
- **é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹**: åˆå›èª­ã¿è¾¼ã¿0.5-1ç§’
- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ**: PWAæ©Ÿèƒ½ï¼ˆå®Ÿè£…äºˆå®šï¼‰
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«**: ISRã«ã‚ˆã‚‹è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- **SEOæœ€é©åŒ–**: é™çš„ç”Ÿæˆã«ã‚ˆã‚‹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³å¯¾å¿œ

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```mermaid
graph TB
    A[Next.js App Router] --> B[Supabase Backend]
    A --> C[Vercel Edge Network]
    
    subgraph "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å±¤"
        D[Server Components]
        E[Client Components]
        F[çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼]
    end
    
    subgraph "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å±¤"
        G[PostgreSQL]
        H[Supabase Auth]
        I[Row Level Security]
    end
    
    subgraph "ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±¤"
        J[ISR Cache]
        K[CDN Cache]
        L[Browser Cache]
    end
    
    A --> D
    A --> E
    D --> F
    E --> F
    F --> B
    B --> G
    B --> H
    B --> I
    C --> J
    C --> K
    C --> L
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å½¹å‰² |
|------|-----------|------|
| **Next.js** | 15.x | React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€App Router |
| **React** | 19.x | UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| **TypeScript** | 5.x | å‹å®‰å…¨æ€§ |
| **Tailwind CSS** | 3.4.x | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |
| **Radix UI** | Latest | ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| **Lucide React** | 0.511.x | ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| **next-themes** | 0.4.x | ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ |
| **Zustand** | 5.x | çŠ¶æ…‹ç®¡ç†ï¼ˆéŸ³å£°æ©Ÿèƒ½ï¼‰ |

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å½¹å‰² |
|------|-----------|------|
| **Supabase** | Latest | BaaSã€PostgreSQLã€èªè¨¼ |
| **@supabase/ssr** | Latest | Server-Side Rendering å¯¾å¿œ |
| **Vercel** | - | ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€CDN |
| **Node.js** | 20.x | ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  |

#### é–‹ç™ºãƒ„ãƒ¼ãƒ«
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å½¹å‰² |
|------|-----------|------|
| **ESLint** | 9.x | ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ |
| **PostCSS** | 8.x | CSS å‡¦ç† |
| **Autoprefixer** | 10.4.x | CSS ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ |

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´

#### 1. **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æˆ¦ç•¥**
```typescript
// Server Componentï¼ˆãƒ‡ãƒ¼ã‚¿äº‹å‰å–å¾—ï¼‰
export default async function CategoryPage() {
  const data = await dataProvider.getPageData('category', {
    category,
    userId: user?.id
  });
  return <CategoryContent data={data} />;
}

// Client Componentï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
export function Quiz({ prefetchedData }: { prefetchedData: Data }) {
  const { words, loading } = usePageData({
    type: 'quiz',
    prefetchedData // Server Component ã‹ã‚‰å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿
  });
}
```

#### 2. **çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼**
```typescript
// ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ä¸€å…ƒç®¡ç†
export class UnifiedDataProvider {
  // éšå±¤åŒ–ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
  private getCachedWordsByCategory = unstable_cache(
    async (category: string): Promise<Word[]> => { /* ... */ },
    ['words-by-category'],
    { revalidate: 900 } // 15åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  );
}
```

#### 3. **å¤šå±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**
```typescript
const CACHE_CONFIG = {
  SHORT: { revalidate: 300 },   // 5åˆ†  - ãƒ¦ãƒ¼ã‚¶ãƒ¼é€²æ—
  MEDIUM: { revalidate: 900 },  // 15åˆ† - ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥å˜èª
  LONG: { revalidate: 3600 },   // 1æ™‚é–“ - å…¨å˜èªãƒ»ã‚«ãƒ†ã‚´ãƒªãƒ¼
  STATIC: { revalidate: 86400 } // 24æ™‚é–“ - é™çš„ãƒ‡ãƒ¼ã‚¿
}
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- **Node.js**: 18.17.0 ä»¥ä¸Š
- **npm**: 9.0.0 ä»¥ä¸Š
- **Supabase ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**: [supabase.com](https://supabase.com)

### 5åˆ†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd masa-flash-with-quiz

# 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp .env.example .env.local
# .env.local ã‚’ç·¨é›†ï¼ˆä¸‹è¨˜å‚ç…§ï¼‰

# 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

### ç’°å¢ƒå¤‰æ•°è¨­å®š

`.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã‚’è¨­å®šï¼š

```bash
# ğŸ”¥ å¿…é ˆ: Supabase è¨­å®š
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ğŸ”¥ å¿…é ˆ: ISR å†æ¤œè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå¼·åŠ›ãªãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ï¼‰
REVALIDATION_TOKEN=your-secure-random-token-here

# ğŸ”§ ã‚ªãƒ—ã‚·ãƒ§ãƒ³: é–‹ç™ºç’°å¢ƒã®ã¿
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# â„¹ï¸ Vercel ç’°å¢ƒã§ã¯ VERCEL_URL ãŒè‡ªå‹•è¨­å®šã•ã‚Œã‚‹ãŸã‚ä¸è¦
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–

1. **Supabase ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ã«ã‚¢ã‚¯ã‚»ã‚¹
2. **SQL Editor** ã‚’é–‹ã
3. `sql/database-schema.sql` ã®å†…å®¹ã‚’å®Ÿè¡Œ
4. `sql/sample-data.sql` ã§ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥

## ğŸ”§ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

#### 1. Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```bash
# Supabase CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
npm install -g supabase

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
supabase init
supabase start
```

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­å®š

```sql
-- ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 
CREATE TABLE words (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  category TEXT NOT NULL,
  word TEXT NOT NULL,
  japanese TEXT NOT NULL,
  example1 TEXT NOT NULL,
  example2 TEXT NOT NULL,
  example3 TEXT NOT NULL,
  example1_jp TEXT NOT NULL,
  example2_jp TEXT NOT NULL,
  example3_jp TEXT NOT NULL,
  audio_file TEXT,
  phonetic TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Row Level Security æœ‰åŠ¹åŒ–
ALTER TABLE words ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Words are viewable by everyone" ON words FOR SELECT USING (true);
```

#### 3. é–‹ç™ºã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆTurbopack æœ‰åŠ¹ï¼‰
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run start

# ãƒªãƒ³ã‚¿ãƒ¼å®Ÿè¡Œ
npm run lint

# ISR ç›£è¦–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
npm run revalidate
```

#### 4. VSCode æ¨å¥¨æ‹¡å¼µæ©Ÿèƒ½

```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "supabase.supabase-vscode"
  ]
}
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
masa-flash-with-quiz/
â”œâ”€â”€ ğŸ“ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ ğŸ“ (routes)/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/                 # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/           # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ sign-up/         # æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ forgot-password/ # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ confirm/         # ãƒ¡ãƒ¼ãƒ«ç¢ºèª
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ error/           # èªè¨¼ã‚¨ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ ğŸ“ landing/             # ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ ğŸ“ protected/           # èªè¨¼ãŒå¿…è¦ãªãƒšãƒ¼ã‚¸
â”‚   â”‚       â”œâ”€â”€ ğŸ“ category/        # ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥å­¦ç¿’
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ [category]/  # å‹•çš„ãƒ«ãƒ¼ãƒˆ
â”‚   â”‚       â”‚       â”œâ”€â”€ ğŸ“ flashcard/ # ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰
â”‚   â”‚       â”‚       â”œâ”€â”€ ğŸ“ quiz/    # ã‚¯ã‚¤ã‚º
â”‚   â”‚       â”‚       â””â”€â”€ ğŸ“ browse/  # å˜èªä¸€è¦§
â”‚   â”‚       â””â”€â”€ ğŸ“ review/          # å¾©ç¿’æ©Ÿèƒ½
â”‚   â”œâ”€â”€ ğŸ“ api/                     # API Routes
â”‚   â”‚   â”œâ”€â”€ ğŸ“ health/              # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ ğŸ“ static-data/         # é™çš„ãƒ‡ãƒ¼ã‚¿API
â”‚   â”‚   â”œâ”€â”€ ğŸ“ revalidate/          # ISRå†æ¤œè¨¼
â”‚   â”‚   â””â”€â”€ ğŸ“ data/                # çµ±ä¸€ãƒ‡ãƒ¼ã‚¿API
â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx               # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“„ page.tsx                 # ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ ğŸ“„ loading.tsx              # ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
â”‚   â”œâ”€â”€ ğŸ“„ error.tsx                # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ ğŸ“„ not-found.tsx            # 404ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ ğŸ“„ globals.css              # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ ğŸ“ components/                   # React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ ui/                      # åŸºæœ¬UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ button.tsx           # ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ card.tsx             # ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ modal.tsx            # ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ ğŸ“„ toast.tsx            # ãƒˆãƒ¼ã‚¹ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“„ flashcard.tsx            # ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ ğŸ“„ quiz.tsx                 # ã‚¯ã‚¤ã‚ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“„ review.tsx               # å¾©ç¿’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“„ header.tsx               # ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“„ auth-wrapper.tsx         # èªè¨¼ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ ğŸ“„ audio-provider.tsx       # éŸ³å£°ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â””â”€â”€ ğŸ“„ theme-switcher.tsx       # ãƒ†ãƒ¼ãƒåˆ‡æ›¿
â”œâ”€â”€ ğŸ“ lib/                         # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ ğŸ“ supabase/                # Supabase è¨­å®š
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ client.ts            # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ server.ts            # ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ middleware.ts        # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ ğŸ“„ use-page-data.ts     # ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ ğŸ“„ data-provider.ts         # çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ ğŸ“„ database.ts              # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â”œâ”€â”€ ğŸ“„ static-data.ts           # é™çš„ãƒ‡ãƒ¼ã‚¿ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“„ audio-store.ts           # éŸ³å£°çŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“„ types.ts                 # TypeScript å‹å®šç¾©
â”‚   â””â”€â”€ ğŸ“„ utils.ts                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ ğŸ“ scripts/                     # ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ ğŸ“„ revalidate-on-change.js  # ISRç›£è¦–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ ğŸ“ sql/                         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ ğŸ“„ database-schema.sql      # ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”‚   â””â”€â”€ ğŸ“„ sample-data.sql          # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ ğŸ“ public/                      # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ ğŸ“„ favicon.ico              # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³
â”‚   â””â”€â”€ ğŸ“„ manifest.json            # PWAãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”œâ”€â”€ ğŸ“ samples/                     # ãƒ¬ã‚¬ã‚·ãƒ¼ã‚µãƒ³ãƒ—ãƒ«
â”‚   â”œâ”€â”€ ğŸ“„ chunks.csv               # CSVã‚µãƒ³ãƒ—ãƒ«
â”‚   â””â”€â”€ ğŸ“„ main.js                  # ãƒ¬ã‚¬ã‚·ãƒ¼JSãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ ğŸ“„ next.config.ts               # Next.js è¨­å®š
â”œâ”€â”€ ğŸ“„ tailwind.config.ts           # Tailwind è¨­å®š
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScript è¨­å®š
â”œâ”€â”€ ğŸ“„ components.json              # shadcn/ui è¨­å®š
â”œâ”€â”€ ğŸ“„ middleware.ts                # Next.js ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”œâ”€â”€ ğŸ“„ package.json                 # ä¾å­˜é–¢ä¿‚
â””â”€â”€ ğŸ“„ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **PascalCase**: `FlashCard.tsx`, `QuizComponent.tsx`
- **kebab-case**: `auth-wrapper.tsx`, `theme-switcher.tsx`

#### ãƒšãƒ¼ã‚¸ãƒ»API
- **kebab-case**: `forgot-password/page.tsx`
- **[bracket]**: å‹•çš„ãƒ«ãƒ¼ãƒˆ `[category]/page.tsx`

#### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
- **kebab-case**: `data-provider.ts`, `use-page-data.ts`

## ğŸ¨ æ©Ÿèƒ½è©³ç´°

### 1. èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 

#### å®Ÿè£…æ¦‚è¦
```typescript
// Supabase Auth çµ±åˆ
const { data: { user } } = await supabase.auth.getUser();

// Row Level Security
CREATE POLICY "Users can view own progress" ON user_progress
  FOR SELECT USING (auth.uid() = user_id);
```

#### å¯¾å¿œæ©Ÿèƒ½
- âœ… ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
- âœ… ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ
- âœ… ãƒ¡ãƒ¼ãƒ«ç¢ºèª
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- âœ… è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

### 2. å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ 

#### ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’
```typescript
interface FlashcardProps {
  words: Word[];
  onComplete: () => void;
  onAddToReview: (wordId: string) => void;
  category: string;
}

// éŸ³å£°æ©Ÿèƒ½çµ±åˆ
const { speak, isEnabled } = useAudioStore();
```

#### ã‚¯ã‚¤ã‚ºã‚·ã‚¹ãƒ†ãƒ 
```typescript
interface QuizQuestion {
  word: Word;
  options: string[];
  correct_answer: string;
  type: 'meaning' | 'example';
}

// 4æŠå•é¡Œç”Ÿæˆ
const generateMeaningOptions = (word: Word): string[] => {
  // é¡ä¼¼ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‹ã‚‰é¸æŠè‚¢ã‚’ç”Ÿæˆ
};
```

#### å¾©ç¿’ã‚·ã‚¹ãƒ†ãƒ 
```typescript
// é–“éš”åå¾©å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
const calculateNextReview = (difficulty: number, reviewCount: number): Date => {
  const intervals = [1, 3, 7, 14, 30]; // æ—¥æ•°
  return new Date(Date.now() + intervals[reviewCount] * 24 * 60 * 60 * 1000);
};
```

### 3. é€²æ—ç®¡ç†

#### ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```typescript
interface UserProgress {
  id: string;
  user_id: string;
  word_id: string;
  mastery_level: number; // 0-1ã®å€¤
  study_count: number;
  correct_count: number;
  incorrect_count: number;
  last_studied: string;
  is_favorite: boolean;
}
```

#### ç¿’ç†Ÿåº¦è¨ˆç®—
```typescript
const calculateMasteryLevel = (correct: number, total: number): number => {
  return Math.min(1, (correct / total) * 0.8 + (total * 0.1));
};
```

### 4. éŸ³å£°æ©Ÿèƒ½

#### Web Speech API çµ±åˆ
```typescript
export const useAudioStore = create<AudioState>()(
  persist(
    (set, get) => ({
      speak: (text: string) => {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-US';
        speechSynthesis.speak(utterance);
      },
    }),
    { name: 'audio-settings' }
  )
);
```

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ISRï¼ˆIncremental Static Regenerationï¼‰æˆ¦ç•¥

#### å†æ¤œè¨¼é–“éš”è¨­å®š
```typescript
// ãƒšãƒ¼ã‚¸åˆ¥ ISR è¨­å®š
export const revalidate = {
  landing: 900,      // 15åˆ† - ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
  category: 3600,    // 1æ™‚é–“ - ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒšãƒ¼ã‚¸
  auth: 86400,       // 24æ™‚é–“ - èªè¨¼ãƒšãƒ¼ã‚¸
  api: 300,          // 5åˆ† - API ãƒ«ãƒ¼ãƒˆ
};
```

#### è‡ªå‹•å†æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ 
```typescript
// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´ç›£è¦–
const wordsSubscription = supabase
  .channel('words-changes')
  .on('postgres_changes', {
    event: '*',
    schema: 'public',
    table: 'words',
  }, triggerRevalidation)
  .subscribe();
```

### çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥éšå±¤
```typescript
const CACHE_CONFIG = {
  SHORT: { revalidate: 300 },   // ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ãƒ‡ãƒ¼ã‚¿
  MEDIUM: { revalidate: 900 },  // ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥ãƒ‡ãƒ¼ã‚¿
  LONG: { revalidate: 3600 },   // å…¨ä½“çµ±è¨ˆ
  STATIC: { revalidate: 86400 } // ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
};
```

#### ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿å–å¾—
```typescript
const pageData = await Promise.all([
  dataProvider.getWordsByCategory(category),
  dataProvider.getCategories(),
  user ? dataProvider.getUserProgress(user.id) : null
]);
```

### Next.js æœ€é©åŒ–è¨­å®š

#### next.config.ts
```typescript
const nextConfig = {
  // ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æœ€é©åŒ–
  experimental: {
    optimizePackageImports: ['lucide-react', '@radix-ui/react-dropdown-menu'],
  },
  
  // ç”»åƒæœ€é©åŒ–
  images: {
    formats: ['image/webp', 'image/avif'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
  },
  
  // æœ¬ç•ªæœ€é©åŒ–
  compiler: {
    removeConsole: process.env.NODE_ENV === 'production',
  },
};
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

| æŒ‡æ¨™ | æ”¹å–„å‰ | æ”¹å–„å¾Œ | æ”¹å–„ç‡ |
|------|--------|--------|--------|
| **First Contentful Paint** | 2.1s | 0.8s | **62%æ”¹å–„** |
| **Largest Contentful Paint** | 2.8s | 1.2s | **57%æ”¹å–„** |
| **Time to Interactive** | 3.2s | 1.5s | **53%æ”¹å–„** |
| **Cumulative Layout Shift** | 0.15 | 0.05 | **67%æ”¹å–„** |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªæ•°** | 5å›/ãƒšãƒ¼ã‚¸ | 2å›/ãƒšãƒ¼ã‚¸ | **60%å‰Šæ¸›** |

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### èªè¨¼ãƒ»èªå¯

#### Row Level Security (RLS)
```sql
-- ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ãƒ‡ãƒ¼ã‚¿ã®ä¿è­·
CREATE POLICY "Users can view own progress" ON user_progress
  FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can update own progress" ON user_progress
  FOR UPDATE USING (auth.uid() = user_id);
```

#### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
```typescript
// ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼
const { data } = await supabase.auth.getClaims();
if (!data?.claims) {
  redirect('/auth/login');
}
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼

```typescript
// next.config.ts
async headers() {
  return [
    {
      source: '/(.*)',
      headers: [
        { key: 'X-Frame-Options', value: 'DENY' },
        { key: 'X-Content-Type-Options', value: 'nosniff' },
        { key: 'Referrer-Policy', value: 'origin-when-cross-origin' },
      ],
    },
  ];
}
```

### ç’°å¢ƒå¤‰æ•°ç®¡ç†

#### åˆ†é¡
- **ğŸ”¥ Public**: `NEXT_PUBLIC_*` - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§åˆ©ç”¨
- **ğŸ”’ Private**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ã¿
- **ğŸ›¡ï¸ Sensitive**: `SUPABASE_SERVICE_ROLE_KEY` - æœ€é«˜æ¨©é™

#### æ¤œè¨¼
```typescript
// ç’°å¢ƒå¤‰æ•°å­˜åœ¨ãƒã‚§ãƒƒã‚¯
export const hasEnvVars = !!(
  process.env.NEXT_PUBLIC_SUPABASE_URL &&
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY
);
```

## ğŸ“ é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

#### 1. TypeScript ãƒ«ãƒ¼ãƒ«
```typescript
// âœ… Good: æ˜ç¤ºçš„ãªå‹å®šç¾©
interface UserProgress {
  mastery_level: number; // 0-1ã®å€¤
  study_count: number;
}

// âŒ Bad: anyå‹ã®ä½¿ç”¨
function processData(data: any) { }

// âœ… Good: ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã®æ´»ç”¨
type StudyMode = 'flashcard' | 'quiz';
```

#### 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
```typescript
// âœ… Good: Props ã®å‹å®šç¾©
interface FlashcardProps {
  words: Word[];
  onComplete: () => void;
  onAddToReview: (wordId: string) => void;
}

// âœ… Good: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export default function Flashcard({ words, onComplete }: FlashcardProps) {
  // ...
}
```

#### 3. Server/Client Component åˆ†é›¢
```typescript
// âœ… Server Component: ãƒ‡ãƒ¼ã‚¿å–å¾—
export default async function CategoryPage() {
  const data = await getPageData();
  return <CategoryContent data={data} />;
}

// âœ… Client Component: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
'use client';
export function InteractiveQuiz() {
  const [answer, setAnswer] = useState('');
  // ...
}
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆãƒ«ãƒ¼ãƒ«

#### 1. ã‚¤ãƒ³ãƒãƒ¼ãƒˆé †åº
```typescript
// 1. Reacté–¢é€£
import { useState, useEffect } from 'react';

// 2. ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
import { createClient } from '@supabase/supabase-js';

// 3. å†…éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
import { Button } from '@/components/ui/button';
import { Word } from '@/lib/types';

// 4. ç›¸å¯¾ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import './styles.css';
```

#### 2. é–¢æ•°å®šç¾©é †åº
```typescript
export default function Component() {
  // 1. State
  const [state, setState] = useState();
  
  // 2. Effects
  useEffect(() => {}, []);
  
  // 3. Event Handlers
  const handleClick = () => {};
  
  // 4. Render
  return <div />;
}
```

### Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
```bash
main                    # æœ¬ç•ªç’°å¢ƒ
â”œâ”€â”€ develop            # é–‹ç™ºç’°å¢ƒ
â”œâ”€â”€ feature/auth-fix   # æ©Ÿèƒ½é–‹ç™º
â”œâ”€â”€ bugfix/quiz-error  # ãƒã‚°ä¿®æ­£
â””â”€â”€ hotfix/security    # ç·Šæ€¥ä¿®æ­£
```

#### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
```bash
# å½¢å¼: type(scope): description

feat(auth): add password reset functionality
fix(quiz): resolve answer validation bug
docs(readme): update setup instructions
refactor(data): optimize cache strategy
perf(api): improve query performance
test(components): add unit tests for flashcard
```

#### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```markdown
## ğŸ“ å¤‰æ›´å†…å®¹
- [ ] æ©Ÿèƒ½è¿½åŠ 
- [ ] ãƒã‚°ä¿®æ­£
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„

## ğŸ§ª ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆè¿½åŠ 
- [ ] æ‰‹å‹•ãƒ†ã‚¹ãƒˆå®Œäº†

## ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] TypeScript ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] ESLint ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¦ç´„

#### 1. çµ±ä¸€ã‚¨ãƒ©ãƒ¼å‡¦ç†
```typescript
// âœ… Good: try-catch with å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
try {
  await dataProvider.getWords();
} catch (error) {
  console.error('å˜èªãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
  throw new Error('ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼');
}

// âŒ Bad: ã‚¨ãƒ©ãƒ¼ã®ç„¡è¦–
try {
  await riskyOperation();
} catch {
  // ä½•ã‚‚ã—ãªã„
}
```

#### 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
```typescript
// ã‚¨ãƒ©ãƒ¼å¢ƒç•Œã®æ´»ç”¨
export default function Error({ error, reset }: ErrorProps) {
  return (
    <div className="error-container">
      <h2>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
      <button onClick={reset}>å†è©¦è¡Œ</button>
    </div>
  );
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

#### 1. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
```typescript
// __tests__/components/Flashcard.test.tsx
import { render, screen } from '@testing-library/react';
import { Flashcard } from '@/components/flashcard';

describe('Flashcard Component', () => {
  it('should render word correctly', () => {
    render(<Flashcard words={mockWords} />);
    expect(screen.getByText('hello')).toBeInTheDocument();
  });
});
```

#### 2. çµ±åˆãƒ†ã‚¹ãƒˆ
```typescript
// __tests__/api/data.test.ts
import { GET } from '@/app/api/data/[type]/route';

describe('/api/data/[type]', () => {
  it('should return category data', async () => {
    const response = await GET(mockRequest);
    expect(response.status).toBe(200);
  });
});
```

#### 3. E2Eãƒ†ã‚¹ãƒˆï¼ˆè¨ˆç”»ï¼‰
```typescript
// e2e/learning-flow.spec.ts
test('complete learning flow', async ({ page }) => {
  await page.goto('/protected/category/verb');
  await page.click('[data-testid="start-flashcard"]');
  await page.click('[data-testid="next-card"]');
  // ...
});
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
npm run test

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
npm run test:coverage

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:watch

# E2Eãƒ†ã‚¹ãƒˆï¼ˆå°†æ¥ï¼‰
npm run test:e2e
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### Vercel ãƒ‡ãƒ—ãƒ­ã‚¤

#### 1. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
```json
// vercel.json
{
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "framework": "nextjs",
  "functions": {
    "app/api/**/*.ts": {
      "maxDuration": 10
    }
  }
}
```

#### 2. ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
# Vercel Dashboard ã§è¨­å®š
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx
SUPABASE_SERVICE_ROLE_KEY=eyJxxx
REVALIDATION_TOKEN=secure-random-string
```

#### 3. ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–
```typescript
// next.config.ts
const nextConfig = {
  // æœ¬ç•ªãƒ“ãƒ«ãƒ‰æœ€é©åŒ–
  compiler: {
    removeConsole: process.env.NODE_ENV === 'production',
  },
  
  // ç”»åƒæœ€é©åŒ–
  images: {
    domains: ['supabase.co'],
    formats: ['image/webp', 'image/avif'],
  },
};
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

```mermaid
graph LR
    A[Git Push] --> B[Vercel Build]
    B --> C[Type Check]
    C --> D[ESLint]
    D --> E[Build]
    E --> F[Deploy]
    F --> G[ISR Cache]
    G --> H[CDN Distribution]
```

### ç’°å¢ƒåˆ¥è¨­å®š

| ç’°å¢ƒ | ãƒ–ãƒ©ãƒ³ãƒ | URL | ISRé–“éš” |
|------|----------|-----|---------|
| **Production** | `main` | `masa-flash.vercel.app` | 1æ™‚é–“ |
| **Staging** | `develop` | `masa-flash-staging.vercel.app` | 15åˆ† |
| **Preview** | `feature/*` | `masa-flash-pr-123.vercel.app` | 5åˆ† |

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ³•

#### 1. ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
```bash
# TypeScript ã‚¨ãƒ©ãƒ¼
Error: Type 'undefined' is not assignable to type 'string'

# è§£æ±ºæ³•
const value: string = data?.value ?? '';
```

#### 2. Supabase æ¥ç¶šã‚¨ãƒ©ãƒ¼
```typescript
// ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯
if (!process.env.NEXT_PUBLIC_SUPABASE_URL) {
  throw new Error('Supabase URL is not configured');
}
```

#### 3. ISR å•é¡Œ
```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
curl -X POST https://your-app.vercel.app/api/revalidate \
  -H "Content-Type: application/json" \
  -d '{"token": "your-token"}'
```

#### 4. èªè¨¼å•é¡Œ
```typescript
// ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª
const { data: { session } } = await supabase.auth.getSession();
if (!session) {
  // å†ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦
  router.push('/auth/login');
}
```

### ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ„ãƒ¼ãƒ«

#### 1. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯API
```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ç¢ºèª
curl https://your-app.vercel.app/api/health
```

#### 2. ãƒ­ã‚°ç›£è¦–
```typescript
// æ§‹é€ åŒ–ãƒ­ã‚°
console.log('User action:', {
  userId: user.id,
  action: 'quiz_complete',
  category: 'verb',
  score: 0.85,
  timestamp: new Date().toISOString()
});
```

## ğŸ“ˆ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

#### 1. Core Web Vitals
```typescript
// web-vitals çµ±åˆ
import { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';

getCLS(console.log);
getFID(console.log);
getFCP(console.log);
getLCP(console.log);
getTTFB(console.log);
```

#### 2. ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹
```typescript
// å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ†æ
const trackLearningSession = (data: {
  mode: 'flashcard' | 'quiz';
  category: string;
  duration: number;
  accuracy: number;
}) => {
  // Analytics é€ä¿¡
};
```

### ã‚¨ãƒ©ãƒ¼ç›£è¦–

#### 1. ã‚¨ãƒ©ãƒ¼å¢ƒç•Œ
```typescript
class ErrorBoundary extends Component {
  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    // ã‚¨ãƒ©ãƒ¼å ±å‘Šã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    console.error('Application Error:', error, errorInfo);
  }
}
```

#### 2. API ã‚¨ãƒ©ãƒ¼ç›£è¦–
```typescript
// API ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
export async function GET(request: NextRequest) {
  try {
    // APIå‡¦ç†
  } catch (error) {
    console.error('API Error:', {
      url: request.url,
      error: error.message,
      timestamp: new Date().toISOString()
    });
  }
}
```

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### Supabaseãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Supabase CLIã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

#### ğŸ“‹ å‰ææ¡ä»¶

```bash
# Supabase CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g supabase
# ã¾ãŸã¯
brew install supabase/tap/supabase
```

#### ğŸš€ åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# 1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
npm run db:init

# 2. ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒªãƒ³ã‚¯
npm run db:link YOUR_PROJECT_REF

# 3. æ—¢å­˜ã‚¹ã‚­ãƒ¼ãƒã®åŒæœŸï¼ˆåˆå›ã®ã¿ï¼‰
npm run db:pull

# 4. æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆ
npm run db:generate create_user_profiles

# 5. ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨
npm run db:migrate

# 6. ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
npm run db:migrate:local

# 7. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ç¢ºèª
npm run db:status
```

#### ğŸ“ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ 

```
supabase/
â”œâ”€â”€ config.toml              # Supabaseè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ migrations/
    â”œâ”€â”€ 20241227000001_create_user_profiles.sql
    â””â”€â”€ [timestamp]_[description].sql
```

#### ğŸ“ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆä¾‹

```sql
-- Migration: Create user_profiles table
-- Created at: 2024-12-27 00:00:01

-- Create user_profiles table
CREATE TABLE IF NOT EXISTS user_profiles (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE UNIQUE,
    display_name TEXT,
    avatar_url TEXT,
    bio TEXT,
    study_goal INTEGER DEFAULT 10,
    preferred_language TEXT DEFAULT 'ja' CHECK (preferred_language IN ('ja', 'en')),
    timezone TEXT DEFAULT 'Asia/Tokyo',
    notification_settings JSONB DEFAULT '{"daily_reminder": true, "achievement": true, "review_reminder": true}'::jsonb,
    study_streak INTEGER DEFAULT 0,
    last_study_date DATE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create indexes
CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id);

-- Enable RLS
ALTER TABLE user_profiles ENABLE ROW LEVEL SECURITY;

-- Create RLS policies
CREATE POLICY "Users can view own profile" ON user_profiles
    FOR SELECT USING (auth.uid() = user_id);
```

#### ğŸ”§ æœ¬ç•ªç’°å¢ƒã§ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```bash
# æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ¥ç¶šè¨­å®š
supabase link --project-ref your-project-ref

# æœ¬ç•ªç’°å¢ƒã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨
supabase db push --linked
```

#### âš ï¸ æ³¨æ„äº‹é …

- **ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒä¸­å¿ƒ**: ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒªãƒ¢ãƒ¼ãƒˆSupabaseç’°å¢ƒã‚’ãƒ¡ã‚¤ãƒ³ã¨ã—ã¦é–‹ç™ºã—ã¾ã™
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: æœ¬ç•ªç’°å¢ƒã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«å¿…ãšãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£ã¦ãã ã•ã„
- **ãƒ†ã‚¹ãƒˆ**: æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ååˆ†ã«ãƒ†ã‚¹ãƒˆã—ã¦ã‹ã‚‰æœ¬ç•ªç’°å¢ƒã«é©ç”¨ã—ã¦ãã ã•ã„
- **RLS**: Row Level Securityãƒãƒªã‚·ãƒ¼ã‚’å¿…ãšè¨­å®šã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’é©åˆ‡ã«åˆ¶é™ã—ã¦ãã ã•ã„
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒæ…®ã—ã¦é©åˆ‡ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ã¦ãã ã•ã„
- **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´**: é©ç”¨æ¸ˆã¿ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç›´æ¥ç·¨é›†ã›ãšã€æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ä¿®æ­£ã—ã¦ãã ã•ã„

è©³ç´°ãªé–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ [docs/DEVELOPMENT_WORKFLOW.md](docs/DEVELOPMENT_WORKFLOW.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«SupabaseãŒèµ·å‹•ã—ãªã„å ´åˆ
supabase stop
supabase start

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¤±æ•—ã—ãŸå ´åˆ
supabase db reset  # ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®ã¿
npm run db:migrate

# æ¥ç¶šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ
supabase status  # ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ç¢ºèª
```

## ğŸ”„ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

#### 1. ä¾å­˜é–¢ä¿‚æ›´æ–°
```bash
# æœˆæ¬¡å®Ÿè¡Œ
npm audit
npm update
npm outdated

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£
npm audit fix
```

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
```sql
-- æœˆæ¬¡å®Ÿè¡Œ: å¤ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
DELETE FROM study_sessions 
WHERE created_at < NOW() - INTERVAL '90 days';

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰
REINDEX TABLE user_progress;
```

#### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
```bash
# é€±æ¬¡å®Ÿè¡Œ: å…¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
curl -X POST /api/revalidate -d '{"token":"xxx","clearAll":true}'
```

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥

#### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- **è‡ªå‹•**: Supabase ã«ã‚ˆã‚‹æ—¥æ¬¡ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- **æ‰‹å‹•**: é‡è¦å¤‰æ›´å‰ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ

#### 2. è¨­å®šãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
```bash
# ç’°å¢ƒå¤‰æ•°ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
vercel env pull .env.backup
```

### ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆè¨ˆç”»

#### å››åŠæœŸãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
- **Q1**: PWAå¯¾å¿œã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½
- **Q2**: AIæ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã€å­¦ç¿’åˆ†æ
- **Q3**: ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã€éŸ³å£°èªè­˜
- **Q4**: å¤šè¨€èªå¯¾å¿œã€ãƒãƒ¼ãƒ æ©Ÿèƒ½

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»é€£çµ¡å…ˆ

### é–‹ç™ºãƒãƒ¼ãƒ 
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ‰**: [é€£çµ¡å…ˆ]
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: [é€£çµ¡å…ˆ]
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: [é€£çµ¡å…ˆ]

### ãƒªã‚½ãƒ¼ã‚¹
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [Wiki URL]
- **APIä»•æ§˜**: [Swagger URL]
- **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: [Figma URL]
- **ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: [Monitoring URL]

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§

---

**ğŸ“ Masa Flash** - *åŠ¹ç‡çš„ãªè‹±èªå­¦ç¿’ã®ãŸã‚ã®æ¬¡ä¸–ä»£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ *

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯Supabaseãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

### åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. Supabase CLIãŒãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼ˆpackage.jsonã«å«ã¾ã‚Œã¦ã„ã¾ã™ï¼‰
npm install

# 2. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒªãƒ³ã‚¯ï¼ˆåˆå›ã®ã¿ï¼‰
npx supabase link --project-ref YOUR_PROJECT_REF

# 3. ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª
npm run db:status
```

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ç¢ºèª
npm run db:status

# ãƒªãƒ¢ãƒ¼ãƒˆã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«åŒæœŸ
npm run db:pull

# æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
npm run db:generate <migration_name>

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«é©ç”¨
npm run db:apply
```

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«

- `supabase/migrations/` ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™
- `20241227000001_create_user_profiles.sql` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«
- `20241227000002_complete_schema.sql` - å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

### é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. `npm run db:status` ã§ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª
2. `npm run db:pull` ã§ãƒªãƒ¢ãƒ¼ãƒˆã‚¹ã‚­ãƒ¼ãƒã‚’åŒæœŸ
3. `npm run db:generate new_feature` ã§æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
4. SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
5. `npm run db:apply` ã§ãƒªãƒ¢ãƒ¼ãƒˆã«é©ç”¨

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãƒªãƒ³ã‚¯ã•ã‚Œã¦ã„ãªã„å ´åˆ**: `npx supabase link --project-ref YOUR_PROJECT_REF`
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ãªå ´åˆ**: Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèª
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼**: `supabase/config.toml` ã®è¨­å®šã‚’ç¢ºèª
